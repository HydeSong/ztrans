(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c9644fe"],{"32f0":function(e,t,a){"use strict";a.d(t,"f",function(){return o}),a.d(t,"e",function(){return r}),a.d(t,"c",function(){return c}),a.d(t,"a",function(){return l}),a.d(t,"d",function(){return s}),a.d(t,"b",function(){return u});var n=a("2c8d"),i=a("f62d");function o(e){var t="/getRouterAliaList",a=Object(i["e"])(),o={sid:Object(i["b"])(),timestamp:a,params:Object(i["a"])(e),sign:Object(i["c"])(e,a)};return Object(n["a"])(t,o)}function r(e){var t="/getAllRouterAndEmployee",a=Object(i["e"])(),o={sid:Object(i["b"])(),timestamp:a,params:Object(i["a"])(e),sign:Object(i["c"])(e,a)};return Object(n["a"])(t,o)}function c(e){var t="/deleteRouterAndEmployee",a=Object(i["e"])(),o={sid:Object(i["b"])(),timestamp:a,params:Object(i["a"])(e),sign:Object(i["c"])(e,a)};return Object(n["a"])(t,o)}function l(e){var t="/addRouterToEmployee",a=Object(i["e"])(),o={sid:Object(i["b"])(),timestamp:a,params:Object(i["a"])(e),sign:Object(i["c"])(e,a)};return Object(n["a"])(t,o)}function s(e){var t="/getAllRouterAndCar",a=Object(i["e"])(),o={sid:Object(i["b"])(),timestamp:a,params:Object(i["a"])(e),sign:Object(i["c"])(e,a)};return Object(n["a"])(t,o)}function u(e){var t="/deleteRouterAndCar",a=Object(i["e"])(),o={sid:Object(i["b"])(),timestamp:a,params:Object(i["a"])(e),sign:Object(i["c"])(e,a)};return Object(n["a"])(t,o)}},5047:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("d2-container",[a("page-header",{ref:"header",attrs:{slot:"header"},on:{submit:e.handleSubmit,add:e.handleAdd},slot:"header"}),a("page-main",{attrs:{"table-data":e.table,loading:e.loading}}),a("page-footer",{attrs:{slot:"footer",current:e.page.current,size:e.page.size,total:e.page.total},on:{change:e.handlePaginationChange},slot:"footer"}),a("el-dialog",{attrs:{title:"新增调度人",visible:e.addDialog},on:{"update:visible":function(t){e.addDialog=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini",data:e.baseCustomers,"highlight-current-row":"",height:"400"}},[a("el-table-column",{attrs:{fixed:"",type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"customerName",label:"调度人姓名",width:"100"}}),a("el-table-column",{attrs:{prop:"birthday",label:"生日"}}),a("el-table-column",{attrs:{prop:"jobNum",label:"工号"}}),a("el-table-column",{attrs:{prop:"sexRealName",label:"性别"}}),a("el-table-column",{attrs:{prop:"jobRealName",label:"职位"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.onAddRouterToEmployee(t.row)}}},[e._v("添加")])]}}])})],1),a("el-dialog",{attrs:{width:"18%",title:"线路别名",visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[a("el-form",{attrs:{inline:!0,model:e.searchItem,size:"mini"}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"线路别名",clearable:""},model:{value:e.addItemParam.routerDetailSeries,callback:function(t){e.$set(e.addItemParam,"routerDetailSeries",t)},expression:"addItemParam.routerDetailSeries"}},e._l(e.routerDetail,function(e,t){return a("el-option",{key:t,attrs:{label:e.routerAlia,value:e.series}})}))],1),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onAddRouterToEmployeeComfirm}},[e._v("确定")])],1)],1)],1)],1)},i=[],o=a("113c"),r=(a("3a0f"),a("a3a3"),a("4d0b"),a("32f0")),c=a("ef75"),l=a("c276"),s={name:"scheduler",components:{PageHeader:function(){return a.e("chunk-2d0e9774").then(a.bind(null,"8e3d"))},PageMain:function(){return a.e("chunk-2d0aedb6").then(a.bind(null,"0c9f"))},PageFooter:function(){return a.e("chunk-2d222739").then(a.bind(null,"cf55"))}},data:function(){return{table:[],baseCustomers:[],loading:!1,addDialog:!1,innerVisible:!1,routerDetail:[],customerNumId:l["a"].cookies.get("__user__customernumid"),page:{current:1,size:100,total:0},addItemParam:{routerDetailSeries:"",employeeNumId:""}}},created:function(){this._initMyPage(),this._getRouterAliaList({customerNumId:this.customerNumId})},methods:{_initMyPage:function(){this.handleSubmit()},handlePaginationChange:function(e){var t=this;this.$notify({title:"分页变化",message:"当前第".concat(e.current,"页 共").concat(e.total,"条 每页").concat(e.size,"条")}),this.page=e,this.$nextTick(function(){t.$refs.header.handleFormSubmit()})},handleSubmit:function(e){var t=this;this.loading=!0,this.$notify({title:"开始请求数据"}),Object(r["e"])(Object(o["a"])({current:this.page.current,pageSize:this.page.size},e)).then(function(e){t.loading=!1,t.$notify({title:"数据请求完毕"}),t.table=e.employeeRouterModel,t.page={current:1,size:100,total:e.total}}).catch(function(e){t.loading=!1,t.$notify({title:"数据请求异常"})})},handleAdd:function(){var e=this;this.addDialog=!0,Object(c["a"])({current:1,pageSize:1e3,customerNumId:this.customerNumId,employeeJobNumSearchKey:"",employeeNameSearchKey:"",jobId:0}).then(function(t){0===t.code&&(e.baseCustomers=t.baseCustomers)}).catch(function(e){console.log(e)})},onAddRouterToEmployee:function(e){console.log(e),this.innerVisible=!0,this.addItemParam.employeeNumId=e.customerNumId},onAddRouterToEmployeeComfirm:function(){this.innerVisible=!1,this._addRouterToEmployee({customerNumId:this.customerNumId,employeeNumId:this.addItemParam.employeeNumId,routerDetailSeries:this.addItemParam.routerDetailSeries})},_addRouterToEmployee:function(e){var t=this;Object(r["a"])(e).then(function(e){0===e.code&&(t.$message({type:"success",message:"添加成功!"}),t.addDialog=!1,t.onSearch())}).catch(function(e){console.log(e)})},_getRouterAliaList:function(e){var t=this;Object(r["f"])(e).then(function(e){0===e.code&&(t.routerDetail=e.routerDetail)}).catch(function(e){console.log(e)})}}},u=s,d=a("048f"),m=Object(d["a"])(u,n,i,!1,null,null,null);m.options.__file="index.vue";t["default"]=m.exports},ef75:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a("2c8d"),i=a("f62d");function o(e){var t="/getAllEmployee",a=Object(i["e"])(),o={sid:Object(i["b"])(),timestamp:a,params:Object(i["a"])(e),sign:Object(i["c"])(e,a)};return Object(n["a"])(t,o)}}}]);
//# sourceMappingURL=chunk-2c9644fe.f1b1ef88.js.map