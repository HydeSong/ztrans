(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7fd7"],{"78bb":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.currentTableData,size:"mini",stripe:""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"客户名称","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.customerName)+"\n      ")]}}])}),n("el-table-column",{attrs:{label:"客户代码","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.customerSimpleCode)+"\n      ")]}}])}),n("el-table-column",{attrs:{label:"所在地区","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.prvCityArea)+"\n      ")]}}])}),n("el-table-column",{attrs:{label:"联系人","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.contactName)+"\n      ")]}}])}),n("el-table-column",{attrs:{label:"联系电话","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.contactPhone)+"\n      ")]}}])}),n("el-table-column",{attrs:{label:"销售员","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.saleName)+"\n      ")]}}])}),n("el-table-column",{attrs:{label:"注册日期","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.createDtme)+"\n      ")]}}])}),n("el-table-column",{attrs:{label:"操作",align:"center",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),n("el-button",{attrs:{size:"mini"},on:{click:function(n){e.handleCheckDetail(t.$index,t.row)}}},[e._v("查看")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)},a=[],l=n("113c"),s=(n("20a2"),n("3a0f"),n("a3a3"),n("4d0b"),n("c276")),i=n("f6b0"),r=(n("e56e"),{props:{tableData:{default:function(){return[]}},loading:{default:!1}},data:function(){return{customerNumId:s["a"].cookies.get("__user__customernumid"),constantDetail:[],editCustomerPopDialog:!1,currentTableData:[],multipleSelection:[],downloadColumns:[{label:"卡密",prop:"key"},{label:"面值",prop:"value"},{label:"状态",prop:"type"},{label:"管理员",prop:"admin"},{label:"管理员备注",prop:"adminNote"},{label:"创建时间",prop:"dateTimeCreat"},{label:"使用状态",prop:"used"},{label:"使用时间",prop:"dateTimeUse"}]}},watch:{tableData:{handler:function(e){this.currentTableData=e},immediate:!0}},methods:{_deleteMasterCustomer:function(e,t){var n=this;Object(i["d"])(e).then(function(e){0===e.code&&(n.$message({type:"success",message:"删除成功!"}),n.currentTableData.splice(t,1))}).catch(function(e){console.log(e)})},handleDelete:function(e,t){var n=this;console.log(e,t),this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n._deleteMasterCustomer({customerNumId:s["a"].cookies.get("__user__customernumid"),series:t.customerMasterId},e)}).catch(function(){console.log("取消删除")})},handleEdit:function(e,t){this.$emit("update",{customerMasterId:t.customerMasterId})},_getMasterCustomerDetail:function(e){var t=this;console.log(e),Object(i["h"])(e).then(function(e){0===e.code&&(t.constantDetail=e.constantDetailModel,t.customerDetail=e.customerMaster,t.editCustomerItem=Object.assign({},t.editCustomerItem,e.customerMaster))}).catch(function(e){console.log(e)})},handleCheckDetail:function(e,t){this.$emit("getMasterDetail",{customerMasterId:t.customerMasterId})},handleSwitchChange:function(e,t){var n=this.currentTableData[t];this.$set(this.currentTableData,t,Object(l["a"])({},n,{type:e}))},handleSelectionChange:function(e){this.multipleSelection=e},downloadDataTranslate:function(e){return e.map(function(e){return Object(l["a"])({},e,{type:e.type?"禁用":"正常",used:e.used?"已使用":"未使用"})})},handleDownloadXlsx:function(e){var t=this;this.$export.excel({title:"D2Admin 表格示例",columns:this.downloadColumns,data:this.downloadDataTranslate(e)}).then(function(){t.$message("导出表格成功")})},handleDownloadCsv:function(e){var t=this;this.$export.csv({title:"D2Admin 表格示例",columns:this.downloadColumns,data:this.downloadDataTranslate(e)}).then(function(){t.$message("导出CSV成功")})}}}),c=r,u=n("048f"),d=Object(u["a"])(c,o,a,!1,null,null,null);d.options.__file="index.vue";t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0d7fd7.deb63331.js.map