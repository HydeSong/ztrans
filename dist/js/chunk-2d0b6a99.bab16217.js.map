{"version":3,"sources":["webpack:///./src/pages/vehicle-management/componnets/PageMain/index.vue?84f7","webpack:///src/pages/customer-management/componnets/PageMain/index.vue","webpack:///./src/pages/vehicle-management/componnets/PageMain/index.vue?d64a","webpack:///./src/pages/vehicle-management/componnets/PageMain/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticStyle","width","attrs","data","currentTableData","size","stripe","on","selection-change","handleSelectionChange","type","label","show-overflow-tooltip","scopedSlots","_u","key","fn","scope","_v","_s","row","customerName","customerSimpleCode","prvCityArea","contactName","contactPhone","saleName","createDtme","align","click","$event","handleEdit","$index","handleCheckDetail","handleDelete","staticRenderFns","PageMainvue_type_script_lang_js_","props","tableData","default","loading","multipleSelection","downloadColumns","prop","watch","handler","val","immediate","methods","_deleteMasterCustomer","params","index","_this","Object","customer","then","res","code","$message","message","splice","catch","err","console","log","_this2","$confirm","confirmButtonText","cancelButtonText","customerNumId","util","cookies","get","series","customerMasterId","handleSwitchChange","oldValue","$set","objectSpread","downloadDataTranslate","map","used","handleDownloadXlsx","_this3","$export","excel","title","columns","handleDownloadCsv","_this4","csv","componnets_PageMainvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0b6a99.bab16217.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.currentTableData,\"size\":\"mini\",\"stripe\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"label\":\"客户名称\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.customerName)+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"客户代码\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.customerSimpleCode)+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"所在地区\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.prvCityArea)+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"联系人\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.contactName)+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"联系电话\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.contactPhone)+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"销售员\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.saleName)+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"注册日期\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.createDtme)+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.handleCheckDetail(scope.$index, scope.row)}}},[_vm._v(\"查看\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-table\r\n      :data=\"currentTableData\"\r\n      v-loading=\"loading\"\r\n      size=\"mini\"\r\n      stripe\r\n      style=\"width: 100%;\"\r\n      @selection-change=\"handleSelectionChange\">\r\n\r\n      <el-table-column\r\n        type=\"selection\"\r\n        width=\"55\">\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"客户名称\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"scope\">\r\n          {{scope.row.customerName}}\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"客户代码\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"scope\">\r\n          {{scope.row.customerSimpleCode}}\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"所在地区\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"scope\">\r\n          {{scope.row.prvCityArea}}\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"联系人\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"scope\">\r\n          {{scope.row.contactName}}\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"联系电话\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"scope\">\r\n          {{scope.row.contactPhone}}\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"销售员\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"scope\">\r\n          {{scope.row.saleName}}\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"注册日期\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"scope\">\r\n          {{scope.row.createDtme}}\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"操作\" align=\"center\" width=\"220\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"primary\"\r\n            @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n          <el-button\r\n            size=\"mini\"\r\n            @click=\"handleCheckDetail(scope.$index, scope.row)\">查看</el-button>\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"danger\"\r\n            @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport util from \"@/libs/util.js\";\r\nimport { deleteMasterCustomer } from \"@/api/customer\";\r\n\r\nexport default {\r\n  props: {\r\n    tableData: {\r\n      default: () => []\r\n    },\r\n    loading: {\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      currentTableData: [],\r\n      multipleSelection: [],\r\n      downloadColumns: [\r\n        { label: \"卡密\", prop: \"key\" },\r\n        { label: \"面值\", prop: \"value\" },\r\n        { label: \"状态\", prop: \"type\" },\r\n        { label: \"管理员\", prop: \"admin\" },\r\n        { label: \"管理员备注\", prop: \"adminNote\" },\r\n        { label: \"创建时间\", prop: \"dateTimeCreat\" },\r\n        { label: \"使用状态\", prop: \"used\" },\r\n        { label: \"使用时间\", prop: \"dateTimeUse\" }\r\n      ]\r\n    };\r\n  },\r\n  watch: {\r\n    tableData: {\r\n      handler(val) {\r\n        this.currentTableData = val;\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    _deleteMasterCustomer(params, index) {\r\n      deleteMasterCustomer(params)\r\n        .then(res => {\r\n          if (res.code === 0) {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"删除成功!\"\r\n            });\r\n            this.currentTableData.splice(index, 1);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    handleDelete(index, row) {\r\n      console.log(index, row);\r\n      this.$confirm(\"此操作将永久删除该记录, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          this._deleteMasterCustomer(\r\n            {\r\n              customerNumId: util.cookies.get(\"__user__customernumid\"),\r\n              series: row.customerMasterId\r\n            },\r\n            index\r\n          );\r\n        })\r\n        .catch(() => {\r\n          console.log(\"取消删除\");\r\n        });\r\n    },\r\n    handleEdit(index, row) {},\r\n    handleCheckDetail(index, row) {},\r\n    handleSwitchChange(val, index) {\r\n      const oldValue = this.currentTableData[index];\r\n      this.$set(this.currentTableData, index, {\r\n        ...oldValue,\r\n        type: val\r\n      });\r\n      // 注意 这里并没有把修改后的数据传递出去 如果需要的话请自行修改\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    downloadDataTranslate(data) {\r\n      return data.map(row => ({\r\n        ...row,\r\n        type: row.type ? \"禁用\" : \"正常\",\r\n        used: row.used ? \"已使用\" : \"未使用\"\r\n      }));\r\n    },\r\n    handleDownloadXlsx(data) {\r\n      this.$export\r\n        .excel({\r\n          title: \"D2Admin 表格示例\",\r\n          columns: this.downloadColumns,\r\n          data: this.downloadDataTranslate(data)\r\n        })\r\n        .then(() => {\r\n          this.$message(\"导出表格成功\");\r\n        });\r\n    },\r\n    handleDownloadCsv(data) {\r\n      this.$export\r\n        .csv({\r\n          title: \"D2Admin 表格示例\",\r\n          columns: this.downloadColumns,\r\n          data: this.downloadDataTranslate(data)\r\n        })\r\n        .then(() => {\r\n          this.$message(\"导出CSV成功\");\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../../../node_modules/_babel-loader@8.0.4@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../../../node_modules/_babel-loader@8.0.4@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4a4ea71e&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports"],"sourceRoot":""}