(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-549eb545"],{e56e:function(e,t,a){"use strict";a.d(t,"a",function(){return c}),a.d(t,"f",function(){return r}),a.d(t,"g",function(){return i}),a.d(t,"h",function(){return l}),a.d(t,"i",function(){return n}),a.d(t,"j",function(){return m}),a.d(t,"k",function(){return u}),a.d(t,"l",function(){return d}),a.d(t,"m",function(){return p}),a.d(t,"n",function(){return b}),a.d(t,"b",function(){return C}),a.d(t,"c",function(){return f}),a.d(t,"d",function(){return h}),a.d(t,"e",function(){return I}),a.d(t,"p",function(){return v}),a.d(t,"o",function(){return g});var o=a("2c8d"),s=a("f62d");function c(e){var t="/getActiveStatus",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function r(e){var t="/getCheckStatus",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function i(e){var t="/getCustomerCaclulateType",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function l(e){var t="/getCustomerJob",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function n(e){var t="/getCustomerLevel",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function m(e){var t="/getCustomerOrderLevel",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function u(e){var t="/getCustomerSex",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function d(e){var t="/getCustomerSource",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function p(e){var t="/getCustomerType",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function b(e){var t="/getOperateStatus",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function C(e){var t="/getAllCity",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function f(e){var t="/getAllCityArea",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function h(e){var t="/getAllPrv",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function I(e){var t="/getAllTown",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function v(e){var t="/getServiceType",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function g(e){var t="getOrderType",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}},f037:function(e,t,a){"use strict";a.r(t);var o,s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("d2-container",[a("page-header",{ref:"header",attrs:{slot:"header"},on:{submit:e.handleSubmit,add:e.handleAdd},slot:"header"}),a("page-main",{attrs:{"table-data":e.table,loading:e.loading},on:{update:e.updateDate,getMasterDetail:e.getMasterDetail}}),a("page-footer",{attrs:{slot:"footer",current:e.page.current,size:e.page.size,total:e.page.total},on:{change:e.handlePaginationChange},slot:"footer"}),a("el-dialog",{attrs:{title:"添加客户",visible:e.addCustomerPopDialog},on:{"update:visible":function(t){e.addCustomerPopDialog=t}}},[a("el-form",{attrs:{inline:!0,model:e.addCustomerItem,"label-position":"left",size:"mini"}},[a("el-form-item",{attrs:{label:"服务类型"}},[a("el-select",{attrs:{clearable:""},model:{value:e.addCustomerItem.serviceType,callback:function(t){e.$set(e.addCustomerItem,"serviceType",t)},expression:"addCustomerItem.serviceType"}},e._l(e.serviceTypeModels,function(e,t){return a("el-option",{key:t,attrs:{label:e.serviceTypeName,value:e.serviceTypeId}})}))],1),a("el-form-item",{attrs:{label:"结算方式"}},[a("el-select",{attrs:{clearable:""},model:{value:e.addCustomerItem.caculateType,callback:function(t){e.$set(e.addCustomerItem,"caculateType",t)},expression:"addCustomerItem.caculateType"}},e._l(e.customerCaclulateTypeModels,function(e,t){return a("el-option",{key:t,attrs:{label:e.customerCaclulateTypeName,value:e.customerCaclulateTypeId}})}))],1),a("el-form-item",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{clearable:""},model:{value:e.addCustomerItem.checkStatus,callback:function(t){e.$set(e.addCustomerItem,"checkStatus",t)},expression:"addCustomerItem.checkStatus"}},e._l(e.checkIdAndCheckStatus,function(e,t){return a("el-option",{key:t,attrs:{label:e.checkStatusName,value:e.checkStatusId}})}))],1),a("el-form-item",{attrs:{label:"省/市/区"}},[a("el-select",{attrs:{placeholder:"请选择省"},model:{value:e.addCustomerItem.prvName,callback:function(t){e.$set(e.addCustomerItem,"prvName",t)},expression:"addCustomerItem.prvName"}},e._l(e.allPrv,function(e){return a("el-option",{key:e.prvId,attrs:{label:e.prvName,value:e.prvId}})})),a("el-select",{attrs:{placeholder:"请选择市"},model:{value:e.addCustomerItem.cityName,callback:function(t){e.$set(e.addCustomerItem,"cityName",t)},expression:"addCustomerItem.cityName"}},e._l(e.allCity,function(e){return a("el-option",{key:e.cityId,attrs:{label:e.cityName,value:e.cityId}})})),a("el-select",{attrs:{placeholder:"请选择区"},model:{value:e.addCustomerItem.cityAreaName,callback:function(t){e.$set(e.addCustomerItem,"cityAreaName",t)},expression:"addCustomerItem.cityAreaName"}},e._l(e.allCityArea,function(e){return a("el-option",{key:e.cityAreaId,attrs:{label:e.cityAreaName,value:e.cityAreaId}})}))],1),a("el-form-item",{attrs:{label:"客户级别"}},[a("el-select",{attrs:{clearable:""},model:{value:e.addCustomerItem.customerLevel,callback:function(t){e.$set(e.addCustomerItem,"customerLevel",t)},expression:"addCustomerItem.customerLevel"}},e._l(e.customerLevelModels,function(e,t){return a("el-option",{key:t,attrs:{label:e.customerLevelName,value:e.customerLevelId}})}))],1),a("el-form-item",{attrs:{label:"客户来源"}},[a("el-select",{attrs:{clearable:""},model:{value:e.addCustomerItem.customerSource,callback:function(t){e.$set(e.addCustomerItem,"customerSource",t)},expression:"addCustomerItem.customerSource"}},e._l(e.customerSourceModels,function(e,t){return a("el-option",{key:t,attrs:{label:e.customerSourceName,value:e.customerSourceId}})}))],1),a("el-form-item",{attrs:{label:"客户类型"}},[a("el-select",{attrs:{clearable:""},model:{value:e.addCustomerItem.customerType,callback:function(t){e.$set(e.addCustomerItem,"customerType",t)},expression:"addCustomerItem.customerType"}},e._l(e.customerTypeModels,function(e,t){return a("el-option",{key:t,attrs:{label:e.customerTypeName,value:e.customerTypeId}})}))],1),a("el-form-item",{attrs:{label:"下单级别"}},[a("el-select",{attrs:{clearable:""},model:{value:e.addCustomerItem.orderLevel,callback:function(t){e.$set(e.addCustomerItem,"orderLevel",t)},expression:"addCustomerItem.orderLevel"}},e._l(e.customerOrderLevelModels,function(e,t){return a("el-option",{key:t,attrs:{label:e.customerOrderLevelName,value:e.customerOrderLevelId}})}))],1),a("el-form-item",{attrs:{label:"销售"}},[a("el-select",{attrs:{clearable:""},model:{value:e.addCustomerItem.saleId,callback:function(t){e.$set(e.addCustomerItem,"saleId",t)},expression:"addCustomerItem.saleId"}},e._l(e.customerSales,function(e,t){return a("el-option",{key:t,attrs:{label:e.salePersonName,value:e.salePersonId}})}))],1),a("el-form-item",{attrs:{label:"最后合作日期"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":e.pickerOptions},model:{value:e.addCustomerItem.finalDate,callback:function(t){e.$set(e.addCustomerItem,"finalDate",t)},expression:"addCustomerItem.finalDate"}})],1),a("el-form-item",{attrs:{label:"大客户名字"}},[a("el-input",{model:{value:e.addCustomerItem.customerName,callback:function(t){e.$set(e.addCustomerItem,"customerName",t)},expression:"addCustomerItem.customerName"}})],1),a("el-form-item",{attrs:{label:"大客户简码"}},[a("el-input",{model:{value:e.addCustomerItem.customerSimpleCode,callback:function(t){e.$set(e.addCustomerItem,"customerSimpleCode",t)},expression:"addCustomerItem.customerSimpleCode"}})],1),a("el-form-item",{attrs:{label:"详细地址"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.addCustomerItem.detailAddress,callback:function(t){e.$set(e.addCustomerItem,"detailAddress",t)},expression:"addCustomerItem.detailAddress"}})],1),a("el-form-item",{attrs:{label:"审核备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.addCustomerItem.checkRemark,callback:function(t){e.$set(e.addCustomerItem,"checkRemark",t)},expression:"addCustomerItem.checkRemark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelCustomer}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini",loading:e.loading},on:{click:e.onAddCustomerConfirm}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑客户",visible:e.editCustomerPopDialog},on:{"update:visible":function(t){e.editCustomerPopDialog=t}}},[a("el-form",{attrs:{inline:!0,model:e.editCustomerItem,"label-position":"left",size:"mini"}},[a("el-form-item",{attrs:{label:"服务类型"}},[a("el-select",{attrs:{clearable:""},model:{value:e.editCustomerItem.serviceType,callback:function(t){e.$set(e.editCustomerItem,"serviceType",t)},expression:"editCustomerItem.serviceType"}},e._l(e.serviceTypeModels,function(e,t){return a("el-option",{key:t,attrs:{label:e.serviceTypeName,value:e.serviceTypeId}})}))],1),a("el-form-item",{attrs:{label:"结算方式"}},[a("el-select",{attrs:{clearable:""},model:{value:e.editCustomerItem.caculateType,callback:function(t){e.$set(e.editCustomerItem,"caculateType",t)},expression:"editCustomerItem.caculateType"}},e._l(e.customerCaclulateTypeModels,function(e,t){return a("el-option",{key:t,attrs:{label:e.customerCaclulateTypeName,value:e.customerCaclulateTypeId}})}))],1),a("el-form-item",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{clearable:""},model:{value:e.editCustomerItem.checkStatus,callback:function(t){e.$set(e.editCustomerItem,"checkStatus",t)},expression:"editCustomerItem.checkStatus"}},e._l(e.checkIdAndCheckStatus,function(e,t){return a("el-option",{key:t,attrs:{label:e.checkStatusName,value:e.checkStatusId}})}))],1),a("el-form-item",{attrs:{label:"省/市/区"}},[a("el-select",{attrs:{placeholder:"请选择省"},model:{value:e.editCustomerItem.prvName,callback:function(t){e.$set(e.editCustomerItem,"prvName",t)},expression:"editCustomerItem.prvName"}},e._l(e.allPrv,function(e){return a("el-option",{key:e.prvId,attrs:{label:e.prvName,value:e.prvId}})})),a("el-select",{attrs:{placeholder:"请选择市"},model:{value:e.editCustomerItem.cityName,callback:function(t){e.$set(e.editCustomerItem,"cityName",t)},expression:"editCustomerItem.cityName"}},e._l(e.allCity,function(e){return a("el-option",{key:e.cityId,attrs:{label:e.cityName,value:e.cityId}})})),a("el-select",{attrs:{placeholder:"请选择区"},model:{value:e.editCustomerItem.cityAreaName,callback:function(t){e.$set(e.editCustomerItem,"cityAreaName",t)},expression:"editCustomerItem.cityAreaName"}},e._l(e.allCityArea,function(e){return a("el-option",{key:e.cityAreaId,attrs:{label:e.cityAreaName,value:e.cityAreaId}})}))],1),a("el-form-item",{attrs:{label:"客户级别"}},[a("el-select",{attrs:{clearable:""},model:{value:e.editCustomerItem.customerLevel,callback:function(t){e.$set(e.editCustomerItem,"customerLevel",t)},expression:"editCustomerItem.customerLevel"}},e._l(e.customerLevelModels,function(e,t){return a("el-option",{key:t,attrs:{label:e.customerLevelName,value:e.customerLevelId}})}))],1),a("el-form-item",{attrs:{label:"客户来源"}},[a("el-select",{attrs:{clearable:""},model:{value:e.editCustomerItem.customerSource,callback:function(t){e.$set(e.editCustomerItem,"customerSource",t)},expression:"editCustomerItem.customerSource"}},e._l(e.customerSourceModels,function(e,t){return a("el-option",{key:t,attrs:{label:e.customerSourceName,value:e.customerSourceId}})}))],1),a("el-form-item",{attrs:{label:"客户类型"}},[a("el-select",{attrs:{clearable:""},model:{value:e.editCustomerItem.customerType,callback:function(t){e.$set(e.editCustomerItem,"customerType",t)},expression:"editCustomerItem.customerType"}},e._l(e.customerTypeModels,function(e,t){return a("el-option",{key:t,attrs:{label:e.customerTypeName,value:e.customerTypeId}})}))],1),a("el-form-item",{attrs:{label:"下单级别"}},[a("el-select",{attrs:{clearable:""},model:{value:e.editCustomerItem.orderLevel,callback:function(t){e.$set(e.editCustomerItem,"orderLevel",t)},expression:"editCustomerItem.orderLevel"}},e._l(e.customerOrderLevelModels,function(e,t){return a("el-option",{key:t,attrs:{label:e.customerOrderLevelName,value:e.customerOrderLevelId}})}))],1),a("el-form-item",{attrs:{label:"销售"}},[a("el-select",{attrs:{clearable:""},model:{value:e.editCustomerItem.saleId,callback:function(t){e.$set(e.editCustomerItem,"saleId",t)},expression:"editCustomerItem.saleId"}},e._l(e.customerSales,function(e,t){return a("el-option",{key:t,attrs:{label:e.salePersonName,value:e.salePersonId}})}))],1),a("el-form-item",{attrs:{label:"最后合作日期"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":e.pickerOptions},model:{value:e.editCustomerItem.finalDate,callback:function(t){e.$set(e.editCustomerItem,"finalDate",t)},expression:"editCustomerItem.finalDate"}})],1),a("el-form-item",{attrs:{label:"大客户名字"}},[a("el-input",{model:{value:e.editCustomerItem.customerName,callback:function(t){e.$set(e.editCustomerItem,"customerName",t)},expression:"editCustomerItem.customerName"}})],1),a("el-form-item",{attrs:{label:"大客户简码"}},[a("el-input",{model:{value:e.editCustomerItem.customerSimpleCode,callback:function(t){e.$set(e.editCustomerItem,"customerSimpleCode",t)},expression:"editCustomerItem.customerSimpleCode"}})],1),a("el-form-item",{attrs:{label:"详细地址"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.editCustomerItem.detailAddress,callback:function(t){e.$set(e.editCustomerItem,"detailAddress",t)},expression:"editCustomerItem.detailAddress"}})],1),a("el-form-item",{attrs:{label:"审核备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.editCustomerItem.checkRemark,callback:function(t){e.$set(e.editCustomerItem,"checkRemark",t)},expression:"editCustomerItem.checkRemark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.editCustomerPopDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onEditCustomerConfirm}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"客户详情",visible:e.popDialog},on:{"update:visible":function(t){e.popDialog=t}}},[a("div",{staticClass:"block"},[e._v("\n      客户信息\n    ")]),a("div",{staticClass:"block"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("ul",{staticClass:"i-list"},[a("li",[e._v("客户名称："+e._s(e.customerDetail.customerName))]),a("li",[e._v("所在地区："+e._s(e.customerDetail.prvRealName)+e._s(e.customerDetail.cityRealName)+e._s(e.customerDetail.cityAreaRealName))]),a("li",[e._v("销售员："+e._s(e.customerDetail.saleName))]),a("li",[e._v("注册时间："+e._s(e.customerDetail.finalDate))])])]),a("el-col",{attrs:{span:12}},[a("ul",{staticClass:"i-list"},[a("li",[e._v("客户代码："+e._s(e.customerDetail.customerSimpleCode))]),a("li",[e._v("详细地址："+e._s(e.customerDetail.detailAddress))]),a("li",[e._v("客户类型："+e._s(e.customerDetail.customerTypeName))]),a("li",[e._v("服务类型："+e._s(e.customerDetail.serviceTypeName))])])])],1)],1),a("div",{staticClass:"block"},[e._v("\n      联系人信息\n      "),a("el-button",{staticStyle:{padding:"2px 0"},attrs:{type:"text"},on:{click:e.onAddContact}},[e._v("添加联系人")])],1),a("div",{staticClass:"block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini",data:e.constantDetail,"highlight-current-row":"",stripe:""}},[a("el-table-column",{attrs:{fixed:"",type:"index",width:"50"}}),a("el-table-column",{attrs:{fixed:"",prop:"contactName",label:"联系人"}}),a("el-table-column",{attrs:{width:"140",prop:"contactPhone",label:"联系电话"}}),a("el-table-column",{attrs:{prop:"wxName",label:"微信名称"}}),a("el-table-column",{attrs:{prop:"activeDtme",label:"创建日期"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.onEditContact(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.onDeleteContact(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)]),a("el-dialog",{attrs:{title:"编辑联系人",visible:e.editContactPopDialog},on:{"update:visible":function(t){e.editContactPopDialog=t}}},[a("el-form",{attrs:{inline:!0,model:e.editContactItem,"label-position":"left",size:"mini"}},[a("el-form-item",{attrs:{label:"联系人姓名"}},[a("el-input",{model:{value:e.editContactItem.contactName,callback:function(t){e.$set(e.editContactItem,"contactName",t)},expression:"editContactItem.contactName"}})],1),a("el-form-item",{attrs:{label:"联系人电话"}},[a("el-input",{model:{value:e.editContactItem.contactPhone,callback:function(t){e.$set(e.editContactItem,"contactPhone",t)},expression:"editContactItem.contactPhone"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.editContactPopDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onEditContactConfirm}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"添加联系人",visible:e.addContactPopDialog},on:{"update:visible":function(t){e.addContactPopDialog=t}}},[a("el-form",{attrs:{inline:!0,model:e.addContactItem,"label-position":"left",size:"mini"}},[a("el-form-item",{attrs:{label:"客户联系人姓名"}},[a("el-input",{model:{value:e.addContactItem.contactName,callback:function(t){e.$set(e.addContactItem,"contactName",t)},expression:"addContactItem.contactName"}})],1),a("el-form-item",{attrs:{label:"客户联系人电话"}},[a("el-input",{model:{value:e.addContactItem.contactPhone,callback:function(t){e.$set(e.addContactItem,"contactPhone",t)},expression:"addContactItem.contactPhone"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.addContactPopDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini",loading:e.loading},on:{click:e.onAddContactConfirm}},[e._v("确 定")])],1)],1)],1)},c=[],r=a("113c"),i=(a("20a2"),a("54b0")),l=(a("3a0f"),a("a3a3"),a("4d0b"),a("c276")),n=a("f6b0"),m=a("e56e"),u={name:"vehicle-schedule",components:{PageHeader:function(){return a.e("chunk-2d0b9dc3").then(a.bind(null,"356a"))},PageMain:function(){return a.e("chunk-2d0d7fd7").then(a.bind(null,"78bb"))},PageFooter:function(){return a.e("chunk-2d208c8a").then(a.bind(null,"a5ee"))}},data:function(){var e;return e={table:[],loading:!1,customerNumId:l["a"].cookies.get("__user__customernumid"),editCustomerItem:{caculateType:"",checkRemark:"",checkStatus:"",cityAreaName:"",cityName:"",customerLevel:"",customerName:"",customerNumId:"",customerSimpleCode:"",customerSource:"",customerType:"",detailAddress:"",finalDate:"",orderLevel:"",prvName:"",saleId:"",series:"",serviceType:""},customerDetail:{},constantDetail:[],popDialog:!1,editCustomerPopDialog:!1,addCustomerPopDialog:!1,editContactPopDialog:!1,addContactPopDialog:!1,addContactItem:{activeDtme:"",activeStatus:"",commendFranchisee:"",commendSale:"",contactName:"",contactPhone:"",customerContactId:"",customerMasterId:"",customerNumId:""},addCustomerItem:{caculateType:"",checkRemark:"",checkStatus:"",cityAreaName:"",cityName:"",customerLevel:"",customerName:"",customerNumId:"",customerSimpleCode:"",customerSource:"",customerType:"",detailAddress:"",finalDate:"",orderLevel:"",prvName:"",saleId:"",serviceType:""},editContactItem:{activeDtme:"",activeStatus:"",contactName:"",contactOpenId:"",contactPhone:"",customerContactId:"",customerMasterId:"",customerNumId:""},checkIdAndCheckStatus:[],activeStatusModels:[],customerCaclulateTypeModels:[],customerJobModels:[],customerLevelModels:[],customerOrderLevelModels:[],customerSexModels:[],customerSourceModels:[],customerTypeModels:[],operateIdAndoperateStatus:[],serviceTypeModels:[],allPrv:[],allCity:[],allCityArea:[],allTown:[]},Object(i["a"])(e,"addCustomerPopDialog",!1),Object(i["a"])(e,"page",{current:1,size:100,total:0}),e},created:function(){this._initMyPage(),this._getAllSaleList({customerNumId:this.customerNumId,franchiseeId:this.franchiseeId}),this._getCheckStatus({customerNumId:this.customerNumId}),this._getActiveStatus({customerNumId:this.customerNumId}),this._getCustomerCaclulateType({customerNumId:this.customerNumId}),this._getCustomerSource({customerNumId:this.customerNumId}),this._getCustomerType({customerNumId:this.customerNumId}),this._getOperateStatus({customerNumId:this.customerNumId}),this._getCustomerSource({customerNumId:this.customerNumId}),this._getCustomerSex({customerNumId:this.customerNumId}),this._getCustomerOrderLevel({customerNumId:this.customerNumId}),this._getCustomerLevel({customerNumId:this.customerNumId}),this._getCustomerJob({customerNumId:this.customerNumId}),this._getServiceType({customerNumId:this.customerNumId}),this._getAllPrv({current:1,customerNumId:this.customerNumId,pageSize:200})},watch:{"editCustomerItem.prvName":function(){this._getAllCity({current:1,pageSize:200,customerNumId:this.customerNumId,prvId:this.editCustomerItem.prvName})},"addCustomerItem.prvName":function(){this._getAllCity({current:1,pageSize:200,customerNumId:this.customerNumId,prvId:this.addCustomerItem.prvName})},"editCustomerItem.cityName":function(){this._getAllCityArea({current:1,pageSize:200,customerNumId:this.customerNumId,prvId:this.editCustomerItem.prvName,cityId:this.editCustomerItem.cityName})},"addCustomerItem.cityName":function(){this._getAllCityArea({current:1,pageSize:200,customerNumId:this.customerNumId,prvId:this.addCustomerItem.prvName,cityId:this.addCustomerItem.cityName})}},methods:(o={_getAllSaleList:function(e){var t=this;Object(n["g"])(e).then(function(e){0===e.code&&(t.customerSales=e.customerSales)}).catch(function(e){console.log(e)})},_getServiceType:function(e){var t=this;Object(m["p"])(e).then(function(e){0===e.code&&(t.serviceTypeModels=e.serviceTypeModels)}).catch(function(e){console.log(e)})},_getAllPrv:function(e){var t=this;Object(m["d"])(e).then(function(e){0===e.code&&(t.allPrv=e.prvNameAndPrvIds)}).catch(function(e){console.log(e)})},_getAllCity:function(e){var t=this;Object(m["b"])(e).then(function(e){0===e.code&&(t.allCity=e.cityeNameAndCityeIds)}).catch(function(e){console.log(e)})},_getAllCityArea:function(e){var t=this;Object(m["c"])(e).then(function(e){0===e.code&&(t.allCityArea=e.cityAreaNameAndCityAreaIdModel)}).catch(function(e){console.log(e)})},_getAllTown:function(e){var t=this;Object(m["e"])(e).then(function(e){0===e.code&&(t.allTown=e.townNameAndTownIdModel)}).catch(function(e){console.log(e)})},_getCheckStatus:function(e){var t=this;Object(m["f"])(e).then(function(e){0===e.code&&(t.checkIdAndCheckStatus=e.checkIdAndCheckStatus)}).catch(function(e){console.log(e)})},_getActiveStatus:function(e){var t=this;Object(m["a"])(e).then(function(e){0===e.code&&(t.activeStatusModels=e.activeStatusModels)}).catch(function(e){console.log(e)})},_getCustomerCaclulateType:function(e){var t=this;Object(m["g"])(e).then(function(e){0===e.code&&(t.customerCaclulateTypeModels=e.customerCaclulateTypeModels)}).catch(function(e){console.log(e)})},_getCustomerJob:function(e){var t=this;Object(m["h"])(e).then(function(e){0===e.code&&(t.customerJobModels=e.customerJobModels)}).catch(function(e){console.log(e)})},_getCustomerLevel:function(e){var t=this;Object(m["i"])(e).then(function(e){0===e.code&&(t.customerLevelModels=e.customerLevelModels)}).catch(function(e){console.log(e)})},_getCustomerOrderLevel:function(e){var t=this;Object(m["j"])(e).then(function(e){0===e.code&&(t.customerOrderLevelModels=e.customerOrderLevelModels)}).catch(function(e){console.log(e)})},_getCustomerSex:function(e){var t=this;Object(m["k"])(e).then(function(e){0===e.code&&(t.customerSexModels=e.customerSexModels)}).catch(function(e){console.log(e)})},_getCustomerSource:function(e){var t=this;Object(m["l"])(e).then(function(e){0===e.code&&(t.customerSourceModels=e.customerSourceModels)}).catch(function(e){console.log(e)})},_getCustomerType:function(e){var t=this;Object(m["m"])(e).then(function(e){0===e.code&&(t.customerTypeModels=e.customerTypeModels)}).catch(function(e){console.log(e)})},_getOperateStatus:function(e){var t=this;Object(m["n"])(e).then(function(e){0===e.code&&(t.operateIdAndoperateStatus=e.operateIdAndoperateStatus)}).catch(function(e){console.log(e)})},_getAllMasterCustomer:function(e){var t=this;this.loading=!0,Object(n["f"])(e).then(function(e){0===e.code&&(t.tableData=e.customerMaster,t.loading=!1)}).catch(function(e){console.log(e)})},_getMasterCustomerDetail:function(e){var t=this;console.log(e),Object(n["h"])(e).then(function(e){0===e.code&&(t.customerDetail=e.customerMaster,t.editCustomerItem=Object.assign({},t.editCustomerItem,e.customerMaster))}).catch(function(e){console.log(e)})},_deleteMasterCustomer:function(e,t){var a=this;Object(n["d"])(e).then(function(e){0===e.code&&(a.$message({type:"success",message:"删除成功!"}),a.tableData.splice(t,1))}).catch(function(e){console.log(e)})},_deleteOldCustomerContact:function(e,t){var a=this;Object(n["deleteOldCustomerContact"])(e).then(function(e){0===e.code&&a.$message({type:"success",message:"删除老联系人成功!"})}).catch(function(e){console.log(e)})},_initMyPage:function(){this.handleSubmit()},handlePaginationChange:function(e){var t=this;this.$notify({title:"分页变化",message:"当前第".concat(e.current,"页 共").concat(e.total,"条 每页").concat(e.size,"条")}),this.page=e,this.$nextTick(function(){t.$refs.header.handleFormSubmit()})},handleSubmit:function(e){var t=this;this.loading=!0,this.$notify({title:"开始请求数据"}),Object(n["f"])(Object(r["a"])({customerNumId:this.customerNumId,current:this.page.current,pageSize:this.page.size},e)).then(function(e){t.loading=!1,t.$notify({title:"数据请求完毕"}),t.table=e.customerMaster,t.page={current:1,size:100,total:e.total}}).catch(function(e){t.loading=!1,t.$notify({title:"数据请求异常"})})},onAddCustomerConfirm:function(){this.loading=!0,this._addMasterCustomer(this.addCustomerItem),this.loading=!1},_addMasterCustomer:function(e){var t=this;console.log(e),""!==e.customerName?""!==e.customerSimpleCode?""!==e.prvName?""!==e.cityName?""!==e.cityAreaName?""!==e.customerSource?""!==e.customerType?""!==e.customerLevel?""!==e.orderLevel?""!==e.caculateType?""!==e.checkStatus?""!==e.serviceType?Object(n["b"])(e).then(function(e){0===e.code&&(t.$message({type:"success",message:"添加成功!"}),t.cancelCustomer(),t.addCustomerPopDialog=!1,t._initMyPage())}).catch(function(e){console.log(e)}):this.$message({type:"error",message:"服务类型不可以为空！"}):this.$message({type:"error",message:"审核状态不可以为空！"}):this.$message({type:"error",message:"结算方式不可以为空！"}):this.$message({type:"error",message:"下单级别不可以为空！"}):this.$message({type:"error",message:"客户级别不可以为空！"}):this.$message({type:"error",message:"客户类型不可以为空！"}):this.$message({type:"error",message:"客户来源不可以为空！"}):this.$message({type:"error",message:"区不可以为空！"}):this.$message({type:"error",message:"市不可以为空！"}):this.$message({type:"error",message:"省不可以为空！"}):this.$message({type:"error",message:"客户简码不可以为空！"}):this.$message({type:"error",message:"客户名字不可以为空！"})},cancelCustomer:function(){this.addCustomerItem.caculateType="",this.addCustomerItem.checkRemark="",this.addCustomerItem.checkStatus="",this.addCustomerItem.cityAreaName="",this.addCustomerItem.cityName="",this.addCustomerItem.customerLevel="",this.addCustomerItem.customerName="",this.addCustomerItem.customerSimpleCode="",this.addCustomerItem.customerSource="",this.addCustomerItem.customerType="",this.addCustomerItem.detailAddress="",this.addCustomerItem.finalDate="",this.addCustomerItem.orderLevel="",this.addCustomerItem.prvName="",this.addCustomerItem.saleId="",this.addCustomerItem.serviceType="",this.addCustomerPopDialog=!1},handleAdd:function(){this.addCustomerPopDialog=!0,this.addCustomerItem.customerNumId=this.customerNumId},onEditCustomerConfirm:function(){this._updateMasterCustomer(this.editCustomerItem)},_updateMasterCustomer:function(e){var t=this;console.log(e),Object(n["j"])(e).then(function(e){0===e.code&&(t.$message({type:"success",message:"修改成功!"}),t.editCustomerPopDialog=!1,t._initMyPage())}).catch(function(e){console.log(e)})},updateDate:function(e){this.editCustomerPopDialog=!0,this._getMasterCustomerDetail({customerNumId:this.customerNumId,customerMasterId:e.customerMasterId}),this.editCustomerItem.customerNumId=this.customerNumId,this.editCustomerItem.series=e.customerMasterId}},Object(i["a"])(o,"_getMasterCustomerDetail",function(e){var t=this;console.log(e),Object(n["h"])(e).then(function(e){0===e.code&&(t.constantDetail=e.constantDetailModel,t.customerDetail=e.customerMaster,t.editCustomerItem=Object.assign({},t.editCustomerItem,e.customerMaster))}).catch(function(e){console.log(e)})}),Object(i["a"])(o,"getMasterDetail",function(e){this.popDialog=!0,this._getMasterCustomerDetail({customerNumId:this.customerNumId,customerMasterId:e.customerMasterId}),this.addContactItem.customerContactId=e.saleId,this.addContactItem.customerMasterId=e.customerMasterId,this.addContactItem.customerNumId=this.customerNumId}),Object(i["a"])(o,"onAddContactConfirm",function(){this.loading=!0,this._addCustomerContact(this.addContactItem),this.loading=!1}),Object(i["a"])(o,"_addCustomerContact",function(e){var t=this;Object(n["a"])(e).then(function(e){0===e.code&&("Y"==e.hasSameNameContact&&t.$confirm("发现此用户在其他客户下也有注册,推测为曾经作为散户下过单，另外一名客户名字叫“"+e.customerMasterName+"”是否删除旧联系人？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t._deleteOldCustomerContact({customerNumId:t.customerNumId,oldCustomerMasterId:e.oldCustomerMasterId,newCustomerMasterId:e.newCustomerMasterId})}),t.$message({type:"success",message:"添加新联系人成功!"}),t.addContactPopDialog=!1,t._getMasterCustomerDetail({customerNumId:t.customerNumId,customerMasterId:t.addContactItem.customerMasterId}))}).catch(function(e){console.log(e)})}),Object(i["a"])(o,"_deleteOldCustomerContact",function(e,t){var a=this;Object(n["deleteOldCustomerContact"])(e).then(function(e){0===e.code&&a.$message({type:"success",message:"删除老联系人成功!"})}).catch(function(e){console.log(e)})}),Object(i["a"])(o,"onAddContact",function(){this.addContactPopDialog=!0,this.addContactItem.activeDtme="",this.addContactItem.activeStatus="",this.addContactItem.commendFranchisee="",this.addContactItem.commendSale="",this.addContactItem.contactName="",this.addContactItem.contactPhone=""}),Object(i["a"])(o,"onEditContactConfirm",function(){this._updateCustomerContact(this.editContactItem)}),Object(i["a"])(o,"_updateCustomerContact",function(e){var t=this;Object(n["i"])(e).then(function(e){0===e.code&&(t.$message({type:"success",message:"修改成功!"}),t.editContactPopDialog=!1)}).catch(function(e){console.log(e)})}),Object(i["a"])(o,"onEditContact",function(e,t){this.editContactPopDialog=!0,console.log(t),this.editContactItem=t}),Object(i["a"])(o,"onDeleteContact",function(e,t){var a=this;console.log(e,t),this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._deleteCustomerContact({customerNumId:a.customerNumId,customerContactId:t.customerContactId},e)}).catch(function(){console.log("取消删除")})}),Object(i["a"])(o,"_deleteCustomerContact",function(e,t){var a=this;Object(n["c"])(e).then(function(e){0===e.code&&(a.$message({type:"success",message:"删除成功!"}),a.constantDetail.splice(t,1))}).catch(function(e){console.log(e)})}),o)},d=u,p=a("048f"),b=Object(p["a"])(d,s,c,!1,null,null,null);b.options.__file="index.vue";t["default"]=b.exports},f6b0:function(e,t,a){"use strict";a.d(t,"f",function(){return c}),a.d(t,"h",function(){return r}),a.d(t,"d",function(){return i}),a.d(t,"b",function(){return l}),a.d(t,"g",function(){return n}),a.d(t,"c",function(){return m}),a.d(t,"i",function(){return u}),a.d(t,"a",function(){return d}),a.d(t,"j",function(){return p});var o=a("2c8d"),s=a("f62d");function c(e){var t="/getAllMasterCustomer",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function r(e){var t="/getMasterCustomerDetail",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function i(e){var t="/deleteMasterCustomer",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function l(e){var t="/addMasterCustomer",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function n(e){var t="/getAllSaleList",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function m(e){var t="/deleteCustomerContact",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function u(e){var t="/updateCustomerContact",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function d(e){var t="/addCustomerContact",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}function p(e){var t="/updateMasterCustomer",a=Object(s["e"])(),c={sid:Object(s["b"])(),timestamp:a,params:Object(s["a"])(e),sign:Object(s["c"])(e,a)};return Object(o["a"])(t,c)}}}]);
//# sourceMappingURL=chunk-549eb545.eccbdf78.js.map